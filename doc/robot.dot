# sa@linuxer.me
# LiuYuyang


digraph robot {
	rankdir=TB;
	bgcolor="#e5e5e5";
	color="#b5e77d";


	# 样式
	node [style=filled,color="black", fillcolor="#85d1df"];
	edge [color="darkblue", fontcolor="darkblue"];
	style="filled";
	fillcolor="#b5e77d";

    login[label="登录"];
    updateContact[label="更新联系人信息"];

	start[label="开始", shape=diamond];
	start -> login;

	login -> updateContact;
	updateContact -> synccheck;

	synccheck[label="长连接(synccheck)", shape=box];
	webwxsync[label="增量更新(webwxsync)", shape=box];
	synccheck -> webwxsync -> synccheck;

	webwxsync -> {updateContact, logMsg, reply};

	subgraph cluster_reply {
		label="消息记录和回复";
		logMsg[label="记录消息"];
		reply[label="处理消息"];
	}
}

